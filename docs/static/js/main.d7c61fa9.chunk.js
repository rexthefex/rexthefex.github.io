(this["webpackJsonpcrypto-tracker"]=this["webpackJsonpcrypto-tracker"]||[]).push([[0],{31:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(0),o=n.n(c),i=n(21),s=n.n(i),a=(n(31),n(3)),u=n(6),l=n.n(u),d=n(12),b=n(22),m=n(4),f=n(9),j=n(10),v=n.n(j),O=n(25),p=function(e,t){var n=Object(c.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(r){return console.log(r),t}})),r=Object(m.a)(n,2),o=r[0],i=r[1];return[o,function(t){try{var n=t instanceof Function?t(o):t;i(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(r){console.log(r)}}]},h=n(11),y=n.n(h),g=n(23);n(53);v.a.defaults.baseURL="https://api.binance.com";var x=function(e){var t=e.minutes,n=e.setItems,o=Object(c.useState)(60*t),i=Object(m.a)(o,2),s=i[0],a=i[1],u=Object(c.useRef)(n);u.current=n,Object(c.useEffect)((function(){var e=setInterval((function(){a((function(e){return e-1}))}),1e3);return function(){return clearInterval(e)}}),[]);var f=Object(c.useCallback)(Object(b.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.a.get("/api/v3/ticker/24hr").then((function(e){return u.current((function(t){var n=Object(d.a)(t);return t.length>10&&n.splice(9,t.length-9),n.unshift({timestamp:y()().unix(),data:e.data.map((function(e){return{symbol:e.symbol,volume:e.quoteVolume,lastPrice:e.lastPrice}}))}),n}))})));case 1:case"end":return e.stop()}}),e)}))),[]);return Object(c.useEffect)((function(){0===s&&f().then((function(){return a(60*t)}))}),[f,t,s]),Object(c.useEffect)((function(){f().then((function(){return a(60*t)}))}),[f,t]),Object(r.jsx)("div",{children:s})},S=function(e){var t=e.setItems,n=p("interval",1),c=Object(m.a)(n,2),o=c[0],i=c[1];return Object(r.jsxs)("div",{className:"refresh-header",children:[Object(r.jsxs)("div",{children:["Refresh: ",[1,2,5,10,15,30,60].map((function(e){return Object(r.jsx)("a",{href:"#",onClick:function(){return i(e)},style:e===o?{fontWeight:"bold"}:{},children:e},e)}))]}),Object(r.jsx)(x,{minutes:o,setItems:t})]})};var w=function(){var e=p("items",[]),t=Object(m.a)(e,2),n=t[0],o=t[1],i=Object(c.useMemo)((function(){var e=[{Header:"Symbol",accessor:"symbol",sticky:"left"}];return null===n||void 0===n||n.forEach((function(t,n){0!==n&&(e.push({Header:"CHG",accessor:t.timestamp.toString()+"CHG"}),e.push({Header:"VOL",accessor:t.timestamp.toString()+"VOL"})),e.push({Header:t.timestamp?y.a.unix(t.timestamp).format("HH:mm:ss"):null,accessor:t.timestamp.toString()})})),e}),[n]),s=Object(c.useMemo)((function(){var e;return null===n||void 0===n||null===(e=n[(null===n||void 0===n?void 0:n.length)-1])||void 0===e?void 0:e.data.filter((function(e){return e.symbol.includes("USDT")})).filter((function(e){return!e.symbol.includes("BULL")&&!e.symbol.includes("BEAR")&&!e.symbol.includes("UP")&&!e.symbol.includes("DOWN")})).filter((function(e){return e.symbol.endsWith("USDT")})).map((function(e){return{symbol:e.symbol.replace("USDT",""),volume:e.volume}}))}),[n]),u=Object(c.useMemo)((function(){return null===s||void 0===s?void 0:s.filter((function(e){return parseFloat(e.volume)>1e5})).sort((function(e,t){return parseFloat(t.volume)-parseFloat(e.volume)}))}),[s]),l=Object(c.useMemo)((function(){var e,t=null===n||void 0===n||null===(e=n[n.length-1])||void 0===e?void 0:e.data;return(null===t||void 0===t?void 0:t.filter((function(e){return e.symbol.includes("BTC")&&u.some((function(t){return e.symbol.includes(t.symbol)}))})))||[]}),[u,n]),b=Object(c.useMemo)((function(){return l.map((function(e){var t=e.symbol,c={symbol:Object(r.jsx)("a",{href:"https://www.binance.com/en/trade/"+e.symbol,target:"_blank",children:e.symbol})};return n.forEach((function(e,r){var o,i=e.data.find((function(e){return e.symbol===t})),s=null===(o=n[r-1])||void 0===o?void 0:o.data.find((function(e){return e.symbol===t})),a=e.timestamp.toString();(null===i||void 0===i?void 0:i.lastPrice.endsWith("000000"))?c[a]=null===i||void 0===i?void 0:i.lastPrice.replace("000000",""):c[a]=null===i||void 0===i?void 0:i.lastPrice.replace("00000000",""),c[a+"VOL"]=(Math.round((null===s||void 0===s?void 0:s.volume)/(null===i||void 0===i?void 0:i.volume)*1e3)/10-100).toFixed(1)+"%";var u=Math.round((null===s||void 0===s?void 0:s.lastPrice)/(null===i||void 0===i?void 0:i.lastPrice)*1e3)/10-100;0!==u&&(c[a+"CHG"]=u.toFixed(1)+"%")})),c}))||[]}),[n]),j=Object(f.useTable)({columns:i,data:b,initialState:{sortBy:[{id:"Symbol",desc:!1}]}},f.useSortBy,g.useSticky),v=j.getTableProps,h=j.getTableBodyProps,x=j.headerGroups,w=j.rows,P=j.prepareRow;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(S,{setItems:o}),Object(r.jsxs)(O.a,Object(a.a)(Object(a.a)({striped:!0,bordered:!0,hover:!0,size:"sm"},v()),{},{className:"table sticky",children:[Object(r.jsx)("thead",{className:"header",children:x.map((function(e){return Object(r.jsx)("tr",Object(a.a)(Object(a.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(r.jsx)("th",{children:Object(r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(r.jsxs)("div",Object(a.a)(Object(a.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),e.isSorted?e.isSortedDesc?"\ud83d\udd3d":"\ud83d\udd3c":""]})),!isNaN(e.id)&&Object(r.jsx)("a",{href:"#",onClick:function(){return o((function(t){var n=t.find((function(t){return t.timestamp===+e.id}));if(-1!==n){var r=Object(d.a)(t);return r.splice(n,1),r}}))},children:"X"})]})})}))}))}))}),Object(r.jsx)("tbody",Object(a.a)(Object(a.a)({},h()),{},{children:w.map((function(e){return P(e),Object(r.jsx)("tr",Object(a.a)(Object(a.a)({},e.getRowProps()),{},{children:e.cells.map((function(e,t){return Object(r.jsx)("td",Object(a.a)(Object(a.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))]})};s.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(w,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.d7c61fa9.chunk.js.map